//
// GENERATED CODE, DO NOT EDIT THIS FILE!
//
// Generated by ComponentSerializationGenerator for PaymentInstruction40.  ISO2002 ID# _e0lYYdcZEeqRFcf2R4bPBw.
// Copyright 2024 Jeff Ward, Beneficial Strategies. Usage subject to license of enclosing library.
//

using BeneficialStrategies.Iso20022.Choices;
using BeneficialStrategies.Iso20022.Codesets;
using BeneficialStrategies.Iso20022.Components;
using BeneficialStrategies.Iso20022.Serialization.Xml.Writers.SimpleTypes;
using System.Xml;

namespace BeneficialStrategies.Iso20022.Serialization.Xml.Writers.Components
{
    /// <summary>
    /// Performs the XML serialization faithful to ISO20002 standards for <seealso cref="PaymentInstruction40"/>.
    /// </summary>
    public class PaymentInstruction40XmlAsyncWriter : ISubordinateXmlAsyncWriter<PaymentInstruction40>
    {
        // Injected dependencies for serialization of each member data type
        private readonly Max35TextXmlAsyncWriter paymentInformationIdentification;
        private readonly IEnumXmlAsyncWriter<PaymentMethod3Code> paymentMethod;
        private readonly ISubordinateXmlAsyncWriter<AdviceType1> requestedAdviceType;
        private readonly BatchBookingIndicatorXmlAsyncWriter batchBooking;
        private readonly Max15NumericTextXmlAsyncWriter numberOfTransactions;
        private readonly DecimalNumberXmlAsyncWriter controlSum;
        private readonly ISubordinateXmlAsyncWriter<PaymentTypeInformation26> paymentTypeInformation;
        private readonly ISubordinateXmlAsyncWriter<DateAndDateTime2Choice_> requestedExecutionDate;
        private readonly ISODateXmlAsyncWriter poolingAdjustmentDate;
        private readonly ISubordinateXmlAsyncWriter<PartyIdentification135> debtor;
        private readonly ISubordinateXmlAsyncWriter<CashAccount40> debtorAccount;
        private readonly ISubordinateXmlAsyncWriter<BranchAndFinancialInstitutionIdentification6> debtorAgent;
        private readonly ISubordinateXmlAsyncWriter<CashAccount40> debtorAgentAccount;
        private readonly Max140TextXmlAsyncWriter instructionForDebtorAgent;
        private readonly ISubordinateXmlAsyncWriter<PartyIdentification135> ultimateDebtor;
        private readonly IEnumXmlAsyncWriter<ChargeBearerType1Code> chargeBearer;
        private readonly ISubordinateXmlAsyncWriter<CashAccount40> chargesAccount;
        private readonly ISubordinateXmlAsyncWriter<BranchAndFinancialInstitutionIdentification6> chargesAccountAgent;
        private readonly ISubordinateXmlAsyncWriter<CreditTransferTransaction54> creditTransferTransactionInformation;
        
        /// <summary>
        /// Construct using an injected writer for each member.
        /// </summary>
        public PaymentInstruction40XmlAsyncWriter
        (
            Max35TextXmlAsyncWriter paymentInformationIdentification,
            IEnumXmlAsyncWriter<PaymentMethod3Code> paymentMethod,
            ISubordinateXmlAsyncWriter<AdviceType1> requestedAdviceType,
            BatchBookingIndicatorXmlAsyncWriter batchBooking,
            Max15NumericTextXmlAsyncWriter numberOfTransactions,
            DecimalNumberXmlAsyncWriter controlSum,
            ISubordinateXmlAsyncWriter<PaymentTypeInformation26> paymentTypeInformation,
            ISubordinateXmlAsyncWriter<DateAndDateTime2Choice_> requestedExecutionDate,
            ISODateXmlAsyncWriter poolingAdjustmentDate,
            ISubordinateXmlAsyncWriter<PartyIdentification135> debtor,
            ISubordinateXmlAsyncWriter<CashAccount40> debtorAccount,
            ISubordinateXmlAsyncWriter<BranchAndFinancialInstitutionIdentification6> debtorAgent,
            ISubordinateXmlAsyncWriter<CashAccount40> debtorAgentAccount,
            Max140TextXmlAsyncWriter instructionForDebtorAgent,
            ISubordinateXmlAsyncWriter<PartyIdentification135> ultimateDebtor,
            IEnumXmlAsyncWriter<ChargeBearerType1Code> chargeBearer,
            ISubordinateXmlAsyncWriter<CashAccount40> chargesAccount,
            ISubordinateXmlAsyncWriter<BranchAndFinancialInstitutionIdentification6> chargesAccountAgent,
            ISubordinateXmlAsyncWriter<CreditTransferTransaction54> creditTransferTransactionInformation
        )
        {
            this.paymentInformationIdentification = paymentInformationIdentification;
            this.paymentMethod = paymentMethod;
            this.requestedAdviceType = requestedAdviceType;
            this.batchBooking = batchBooking;
            this.numberOfTransactions = numberOfTransactions;
            this.controlSum = controlSum;
            this.paymentTypeInformation = paymentTypeInformation;
            this.requestedExecutionDate = requestedExecutionDate;
            this.poolingAdjustmentDate = poolingAdjustmentDate;
            this.debtor = debtor;
            this.debtorAccount = debtorAccount;
            this.debtorAgent = debtorAgent;
            this.debtorAgentAccount = debtorAgentAccount;
            this.instructionForDebtorAgent = instructionForDebtorAgent;
            this.ultimateDebtor = ultimateDebtor;
            this.chargeBearer = chargeBearer;
            this.chargesAccount = chargesAccount;
            this.chargesAccountAgent = chargesAccountAgent;
            this.creditTransferTransactionInformation = creditTransferTransactionInformation;
        }
        public async Task WriteAsync(XmlWriter writer, PaymentInstruction40 valueBeingSerialized, string isoNamespace)
        {
            // PaymentInformationIdentification Required Max35Text System.String
            await writer.WriteStartElementAsync(null, "PmtInfId", isoNamespace );
            await paymentInformationIdentification.WriteAsync(writer, valueBeingSerialized.PaymentInformationIdentification, isoNamespace);
            await writer.WriteEndElementAsync();
            // PaymentMethod Required PaymentMethod3Code PaymentMethod3Code
            await writer.WriteStartElementAsync(null, "PmtMtd", isoNamespace );
            await paymentMethod.WriteAsync(writer, valueBeingSerialized.PaymentMethod, isoNamespace);
            await writer.WriteEndElementAsync();
            // RequestedAdviceType Optional AdviceType1 AdviceType1
            if ( valueBeingSerialized.RequestedAdviceType is AdviceType1 populatedRequestedAdviceType)
            {
                await writer.WriteStartElementAsync(null, "ReqdAdvcTp", isoNamespace );
                await requestedAdviceType.WriteAsync(writer, populatedRequestedAdviceType, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // BatchBooking Optional BatchBookingIndicator System.String
            if ( valueBeingSerialized.BatchBooking is System.String populatedBatchBooking)
            {
                await writer.WriteStartElementAsync(null, "BtchBookg", isoNamespace );
                await batchBooking.WriteAsync(writer, populatedBatchBooking, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // NumberOfTransactions Optional Max15NumericText System.String
            if ( valueBeingSerialized.NumberOfTransactions is System.String populatedNumberOfTransactions)
            {
                await writer.WriteStartElementAsync(null, "NbOfTxs", isoNamespace );
                await numberOfTransactions.WriteAsync(writer, populatedNumberOfTransactions, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // ControlSum Optional DecimalNumber System.UInt64
            if ( valueBeingSerialized.ControlSum is System.UInt64 populatedControlSum)
            {
                await writer.WriteStartElementAsync(null, "CtrlSum", isoNamespace );
                await controlSum.WriteAsync(writer, populatedControlSum, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // PaymentTypeInformation Optional PaymentTypeInformation26 PaymentTypeInformation26
            if ( valueBeingSerialized.PaymentTypeInformation is PaymentTypeInformation26 populatedPaymentTypeInformation)
            {
                await writer.WriteStartElementAsync(null, "PmtTpInf", isoNamespace );
                await paymentTypeInformation.WriteAsync(writer, populatedPaymentTypeInformation, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // RequestedExecutionDate Required DateAndDateTime2Choice DateAndDateTime2Choice_
            await writer.WriteStartElementAsync(null, "ReqdExctnDt", isoNamespace );
            await requestedExecutionDate.WriteAsync(writer, valueBeingSerialized.RequestedExecutionDate, isoNamespace);
            await writer.WriteEndElementAsync();
            // PoolingAdjustmentDate Optional ISODate System.DateOnly
            if ( valueBeingSerialized.PoolingAdjustmentDate is System.DateOnly populatedPoolingAdjustmentDate)
            {
                await writer.WriteStartElementAsync(null, "PoolgAdjstmntDt", isoNamespace );
                await poolingAdjustmentDate.WriteAsync(writer, populatedPoolingAdjustmentDate, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // Debtor Required PartyIdentification135 PartyIdentification135
            await writer.WriteStartElementAsync(null, "Dbtr", isoNamespace );
            await debtor.WriteAsync(writer, valueBeingSerialized.Debtor, isoNamespace);
            await writer.WriteEndElementAsync();
            // DebtorAccount Required CashAccount40 CashAccount40
            await writer.WriteStartElementAsync(null, "DbtrAcct", isoNamespace );
            await debtorAccount.WriteAsync(writer, valueBeingSerialized.DebtorAccount, isoNamespace);
            await writer.WriteEndElementAsync();
            // DebtorAgent Required BranchAndFinancialInstitutionIdentification6 BranchAndFinancialInstitutionIdentification6
            await writer.WriteStartElementAsync(null, "DbtrAgt", isoNamespace );
            await debtorAgent.WriteAsync(writer, valueBeingSerialized.DebtorAgent, isoNamespace);
            await writer.WriteEndElementAsync();
            // DebtorAgentAccount Optional CashAccount40 CashAccount40
            if ( valueBeingSerialized.DebtorAgentAccount is CashAccount40 populatedDebtorAgentAccount)
            {
                await writer.WriteStartElementAsync(null, "DbtrAgtAcct", isoNamespace );
                await debtorAgentAccount.WriteAsync(writer, populatedDebtorAgentAccount, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // InstructionForDebtorAgent Optional Max140Text System.String
            if ( valueBeingSerialized.InstructionForDebtorAgent is System.String populatedInstructionForDebtorAgent)
            {
                await writer.WriteStartElementAsync(null, "InstrForDbtrAgt", isoNamespace );
                await instructionForDebtorAgent.WriteAsync(writer, populatedInstructionForDebtorAgent, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // UltimateDebtor Optional PartyIdentification135 PartyIdentification135
            if ( valueBeingSerialized.UltimateDebtor is PartyIdentification135 populatedUltimateDebtor)
            {
                await writer.WriteStartElementAsync(null, "UltmtDbtr", isoNamespace );
                await ultimateDebtor.WriteAsync(writer, populatedUltimateDebtor, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // ChargeBearer Optional ChargeBearerType1Code ChargeBearerType1Code
            if ( valueBeingSerialized.ChargeBearer is ChargeBearerType1Code populatedChargeBearer)
            {
                await writer.WriteStartElementAsync(null, "ChrgBr", isoNamespace );
                await chargeBearer.WriteAsync(writer, populatedChargeBearer, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // ChargesAccount Optional CashAccount40 CashAccount40
            if ( valueBeingSerialized.ChargesAccount is CashAccount40 populatedChargesAccount)
            {
                await writer.WriteStartElementAsync(null, "ChrgsAcct", isoNamespace );
                await chargesAccount.WriteAsync(writer, populatedChargesAccount, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // ChargesAccountAgent Optional BranchAndFinancialInstitutionIdentification6 BranchAndFinancialInstitutionIdentification6
            if ( valueBeingSerialized.ChargesAccountAgent is BranchAndFinancialInstitutionIdentification6 populatedChargesAccountAgent)
            {
                await writer.WriteStartElementAsync(null, "ChrgsAcctAgt", isoNamespace );
                await chargesAccountAgent.WriteAsync(writer, populatedChargesAccountAgent, isoNamespace);
                await writer.WriteEndElementAsync();
            }
            // CreditTransferTransactionInformation Unknown CreditTransferTransaction54 CreditTransferTransaction54
        }
    }
}
